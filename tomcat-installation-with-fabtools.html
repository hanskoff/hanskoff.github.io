<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Fabtools - Tomcat - fast provisioning - johny's blog</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://hanskoff.github.io/tomcat-installation-with-fabtools.html">

        <meta name="author" content="johny" />
        <meta name="keywords" content="tomcat,fabtools,vagrant,python" />
        <meta name="description" content="As every other developer I&#39;m a fun of easy developer life. I wish all open source projects could be build right away without any previous database or ldap mocking setup. Just fire it right away! That is why I like Vagrant so much. Vagrant with puppet manifests [chef|ansible ..." />

        <meta property="og:site_name" content="johny's blog" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Fabtools - Tomcat - fast provisioning"/>
        <meta property="og:url" content="https://hanskoff.github.io/tomcat-installation-with-fabtools.html"/>
        <meta property="og:description" content="As every other developer I&#39;m a fun of easy developer life. I wish all open source projects could be build right away without any previous database or ldap mocking setup. Just fire it right away! That is why I like Vagrant so much. Vagrant with puppet manifests [chef|ansible ..."/>
        <meta property="article:published_time" content="2014-04-25" />
            <meta property="article:section" content="fabtools" />
            <meta property="article:tag" content="tomcat" />
            <meta property="article:tag" content="fabtools" />
            <meta property="article:tag" content="vagrant" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="johny" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://hanskoff.github.io/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="https://hanskoff.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://hanskoff.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://hanskoff.github.io/theme/css/style.css" type="text/css"/>





</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://hanskoff.github.io/" class="navbar-brand">
johny's blog            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://hanskoff.github.io/pages/about.html">
                             About
                          </a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://hanskoff.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-lg-12">
            <ol class="breadcrumb">
                <li><a href="https://hanskoff.github.io" title="johny's blog"><i class="fa fa-home fa-lg"></i></a></li>
                <li class="active">Fabtools - Tomcat - fast provisioning</li>
            </ol>
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://hanskoff.github.io/tomcat-installation-with-fabtools.html"
                       rel="bookmark"
                       title="Permalink to Fabtools - Tomcat - fast provisioning">
                        Fabtools - Tomcat - fast provisioning
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2014-04-25T14:36:00+02:00"> Fri 25 April 2014</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://hanskoff.github.io/tag/tomcat.html">tomcat</a>
        /
	<a href="https://hanskoff.github.io/tag/fabtools.html">fabtools</a>
        /
	<a href="https://hanskoff.github.io/tag/vagrant.html">vagrant</a>
        /
	<a href="https://hanskoff.github.io/tag/python.html">python</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>As every other developer I'm a fun of easy developer life. I wish all open source projects could be build right away without any previous database or ldap mocking setup. Just fire it right away! That is why I like <a href="http://www.vagrantup.com/">Vagrant</a> so much. </p>
<p>Vagrant with puppet manifests [chef|ansible|bash] might help to completely separate your local development environment from office network. From now on you can work from the basement without network connection - is't that sweet? (You might just need to mock company's ldap server). </p>
<blockquote>
<p>The main benefit of <code>Vagranfile</code> (Vagrant’s setup file) is that you can keep it as a code in your favorite VCS. Each team member will build his own local developement environment from scratch. You don’t need to distribute huge .vmdk files anymore. </p>
</blockquote>
<p><em>Fabric</em> is great python tool that helps you to automate many tedious tasks: copy files from one to another host, link, create users, replace configurations etc. </p>
<p><em>Fabtools</em> is a natural extension of Fabric possibilities. The idea behind it - is comparable to that from puppet and chef. It might be considered as another provisioner. </p>
<p><a href="http://fabtools.readthedocs.org/en/latest/api/python.html">In current 0.18 release of fabtools</a> you are be able to find tomcat module which will help you to automatically provision virtual machine on you computer with apache tomcat server within few minutes.</p>
<p>You might need to install</p>
<div class="highlight"><pre><span></span>sudo apt-get install python-pip
</pre></div>


<ol>
<li><a href="http://www.vagrantup.com/">Vagrant</a> </li>
<li><a href="https://www.virtualbox.org/">Oracle VirtualBox</a></li>
<li><a href="http://fabfile.org">Fabric</a>  </li>
<li><a href="http://fabtools.readthedocs.org">Fabtools</a></li>
</ol>
<p>last two you on ubuntu can simply type in terminal:</p>
<div class="highlight"><pre><span></span>pip install fabric
pip install fabtools
</pre></div>


<h2>Example</h2>
<p>All you have to do is to create fabfile.py in your directory with vagranfile. For apache tomcat server you need java first.</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fabtools</span> <span class="kn">import</span> <span class="n">require</span><span class="p">,</span> <span class="n">tomcat</span>
<span class="kn">from</span> <span class="nn">fabtools.vagrant</span> <span class="kn">import</span> <span class="n">vagrant</span>

<span class="nd">@task</span>
<span class="k">def</span> <span class="nf">provision</span><span class="p">():</span>
    <span class="n">require</span><span class="o">.</span><span class="n">oracle_jdk</span><span class="o">.</span><span class="n">installed</span><span class="p">(</span><span class="n">version</span><span class="o">=</span><span class="s1">&#39;7u55-b13&#39;</span><span class="p">)</span>
    <span class="n">require</span><span class="o">.</span><span class="n">tomcat</span><span class="o">.</span><span class="n">installed</span><span class="p">(</span><span class="s1">&#39;7.0.53&#39;</span><span class="p">)</span>
</pre></div>


<p>or go and <a href="https://github.com/hanskoff/vagrant-fabric">clone my github repo</a>,</p>
<p>navigate to tomcat and:</p>
<div class="highlight"><pre><span></span>fab vagrant provision
vagrant ssh
</pre></div>


<p><strong>As puppet manifest, fabtools fabfiles might be reused to provision remote boxes.</strong></p>
<h2>Reusing fabfile.py to provision remote box:</h2>
<p>When having fabfile already built for your local dev box you can then reuse it for automation of provisioning remote boxes.
You can define your hosts in fabfile or you can just call</p>
<div class="highlight"><pre><span></span>fab -H &lt;user&gt;@&lt;hostname&gt;:&lt;sshPort&gt; provision
</pre></div>


<p>Above command will install java and apache tomcat on any <code>&lt;hostname&gt;</code> with one bash call.</p>
            </div>
            <!-- /.entry-content -->
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'hanskoff'; // required: replace example with your forum shortname

                    var disqus_identifier = 'tomcat-installation-with-fabtools';
                var disqus_url = 'https://hanskoff.github.io/tomcat-installation-with-fabtools.html';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 johny
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://hanskoff.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://hanskoff.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://hanskoff.github.io/theme/js/respond.min.js"></script>

    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'hanskoff'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-20629244-7']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>